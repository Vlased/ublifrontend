'use strict';

var f = require('storybook-i18n/preview');
var m = require('react');
var R = require('@storybook/preview-api/dist/client-api');
var reactI18next = require('react-i18next');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n.default = e;
	return Object.freeze(n);
}

var f__default = /*#__PURE__*/_interopDefault(f);
var m__default = /*#__PURE__*/_interopDefault(m);
var R__namespace = /*#__PURE__*/_interopNamespace(R);

var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var i=(n,o,e,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of l(o))!y.call(n,r)&&r!==e&&u(n,r,{get:()=>o[r],enumerable:!(a=d(o,r))||a.enumerable});return n},s=(n,o,e)=>(i(n,o,"default"),e&&i(e,o,"default"));var t={};s(t,R__namespace);var c=(n,o)=>{let{parameters:{i18n:e}}=o,a=e?.language,[{locale:r}]=(0, t.useGlobals)(),[g,p]=(0, t.useState)(0);return (0, t.useEffect)(()=>{if(e)return e.on("languageChanged",()=>{p(Date.now());}),()=>e.off("languageChanged")},[e]),(0, t.useEffect)(()=>{e&&r&&a&&r!==a&&e.changeLanguage(r);},[a,r,e]),m__default.default.createElement(m.Fragment,{key:g},m__default.default.createElement(reactI18next.I18nextProvider,{i18n:e},n(o)))};var h=f__default.default.decorators||[],F={...f__default.default,decorators:[...h,c]},j=F;

module.exports = j;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=preview.js.map