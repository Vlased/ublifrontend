{"version":3,"file":"main.9ac6882e7b254c7a6ffc.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AADA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA","sources":["webpack://ulbi/./src/pages/ProfilePage/model/services/updateProfileData/updateProfileData.ts"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { ThunkConfig } from 'app/providers/StoreProvider'\nimport { getProfileForm } from '../../selectors/getProfileForm/getProfileForm'\nimport { Profile, ValidateProfileErrors } from '../../types/profile'\nimport { validateProfileData } from '../validateProfileData/validateProfileData'\n\nexport const updateProfileData = createAsyncThunk<Profile, void, ThunkConfig<ValidateProfileErrors[]>>(\n  'profile/updateProfileData',\n  async (_, { extra, rejectWithValue, getState }) => {\n    try {\n      const formData = getProfileForm(getState())\n\n      const errors = validateProfileData(formData);\n\n      if(errors.length) {\n        return rejectWithValue(errors)\n      }\n\n      const response = await extra.api.put<Profile>('/profile', formData)\n\n      if(!response?.data) {\n        throw new Error()\n      }\n\n      return response.data\n    } catch (e) {\n      return rejectWithValue([ValidateProfileErrors.SERVER_ERROR])\n    }\n  }\n)\n"],"names":[],"sourceRoot":""}