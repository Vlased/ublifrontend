{"version":3,"file":"src_shared_ui_Input_Input_tsx.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAYA;AASA;AAPA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AAAA;AACA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://ulbi/./src/shared/ui/Input/Input.tsx","webpack://ulbi/./src/shared/ui/Input/Input.module.scss","webpack://ulbi/./src/shared/ui/Input/Input.module.scss?8624"],"sourcesContent":["import React, { InputHTMLAttributes, memo, useCallback, useEffect, useRef, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { classNames } from 'shared/lib/classNames/classNames'\nimport styles from './Input.module.scss'\n\ntype HTMLInputProps = Omit<InputHTMLAttributes<HTMLInputElement>, 'value' | 'onChange' | 'readOnly'>\n\ninterface InputProps {\n  className?: string\n  value?: string | number\n  onChange?: (value: string) => void\n  autoFocus?: boolean\n  readonly?: boolean\n}\n\nexport const Input: React.FC<InputProps & HTMLInputProps> = memo(({\n  className,\n  value,\n  onChange,\n  placeholder,\n  type = 'text',\n  autoFocus,\n  readonly,\n  ...props\n}) => {\n  const { t } = useTranslation()\n  const [isFocused, setIsFocused] = useState<boolean>(false)\n  const [caretPosition, setCaretPosition] = useState<number>(0)\n  const ref = useRef<HTMLInputElement>(null)\n  const isCaretVisible = isFocused && !readonly\n\n  useEffect(() => {\n    if (autoFocus) {\n      setIsFocused(true)\n      ref.current?.focus()\n    }\n  }, [autoFocus])\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange?.(e.target.value)\n    setCaretPosition(e.target.value.length)\n  }, [onChange])\n\n  const onBlur = useCallback(() => {\n    setIsFocused(false)\n  }, [])\n\n  const onFocus = useCallback(() => {\n    setIsFocused(true)\n  }, [])\n\n  const onSelect = useCallback((e: any) => {\n    setCaretPosition(e?.target?.selectionStart || 0)\n  }, [])\n\n  return (\n    <div className={classNames([className, styles.inputContainer])}>\n      {placeholder && (\n        <div className={styles.placeholder}>\n          {`${t(placeholder)}>`}\n        </div>\n      )}\n      <div className={styles.caretWrapper}>\n        <input\n          className={classNames([styles.input], { [styles.editing]: readonly })}\n          type={type}\n          value={value}\n          onChange={handleChange}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onSelect={onSelect}\n          readOnly={readonly}\n          {...props}\n        />\n        {isCaretVisible && (\n          <span\n            className={styles.caret}\n            style={{ left: `${caretPosition * 9 * 9 / 10}px` }}\n          />\n        )}\n      </div>\n    </div>\n  )\n})\n\nInput.displayName = 'Input'\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.src-shared-ui-Input-Input-module__inputContainer--qB7Fo {\n  display: flex;\n}\n\n.src-shared-ui-Input-Input-module__placeholder--emAQQ {\n  margin-right: 5px;\n}\n\n.src-shared-ui-Input-Input-module__input--LVdIP {\n  background: transparent;\n  border: none;\n  outline: none;\n  width: 100%;\n  color: transparent;\n  text-shadow: 0 0 0 var(--primary-color);\n}\n.src-shared-ui-Input-Input-module__input--LVdIP:focus {\n  outline: none;\n}\n\n.src-shared-ui-Input-Input-module__editing--KqJtO {\n  opacity: 0.7;\n}\n\n.src-shared-ui-Input-Input-module__caretWrapper--y1GiF {\n  flex-grow: 1;\n  position: relative;\n}\n\n.src-shared-ui-Input-Input-module__caret--lqMFG {\n  height: 3px;\n  width: 9px;\n  background: var(--primary-color);\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  animation: src-shared-ui-Input-Input-module__blink--M7n8f 0.7s forwards infinite;\n}\n\n@keyframes src-shared-ui-Input-Input-module__blink--M7n8f {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0.01;\n  }\n  100% {\n    opacity: 1;\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/shared/ui/Input/Input.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;AACF;;AAEA;EACE,iBAAA;AACF;;AAEA;EACE,uBAAA;EACA,YAAA;EACA,aAAA;EACA,WAAA;EACA,kBAAA;EACA,uCAAA;AACF;AAEE;EACE,aAAA;AAAJ;;AAIA;EACE,YAAA;AADF;;AAIA;EACE,YAAA;EACA,kBAAA;AADF;;AAIA;EACE,WAAA;EACA,UAAA;EACA,gCAAA;EACA,SAAA;EACA,OAAA;EACA,kBAAA;EACA,gFAAA;AADF;;AAIA;EACE;IACE,UAAA;EADF;EAIA;IACE,aAAA;EAFF;EAKA;IACE,UAAA;EAHF;AACF\",\"sourcesContent\":[\".inputContainer {\\n  display: flex;\\n}\\n\\n.placeholder {\\n  margin-right: 5px;\\n}\\n\\n.input {\\n  background: transparent;\\n  border: none;\\n  outline: none;\\n  width: 100%;\\n  color: transparent;\\n  text-shadow: 0 0 0 var(--primary-color);\\n\\n\\n  &:focus {\\n    outline: none;\\n  }\\n}\\n\\n.editing {\\n  opacity: 0.7;\\n}\\n\\n.caretWrapper {\\n  flex-grow: 1;\\n  position: relative;\\n}\\n\\n.caret {\\n  height: 3px;\\n  width: 9px;\\n  background: var(--primary-color);\\n  bottom: 0;\\n  left: 0;\\n  position: absolute;\\n  animation: blink 0.7s forwards infinite;\\n}\\n\\n@keyframes blink {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  50% {\\n    opacity: 0.01;\\n  }\\n\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"inputContainer\": `src-shared-ui-Input-Input-module__inputContainer--qB7Fo`,\n\t\"placeholder\": `src-shared-ui-Input-Input-module__placeholder--emAQQ`,\n\t\"input\": `src-shared-ui-Input-Input-module__input--LVdIP`,\n\t\"editing\": `src-shared-ui-Input-Input-module__editing--KqJtO`,\n\t\"caretWrapper\": `src-shared-ui-Input-Input-module__caretWrapper--y1GiF`,\n\t\"caret\": `src-shared-ui-Input-Input-module__caret--lqMFG`,\n\t\"blink\": `src-shared-ui-Input-Input-module__blink--M7n8f`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Input.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Input.module.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./Input.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}